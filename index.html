<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Document Verification - Replica</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <style>
    body {
      background: #ffffff;
      font-family: Helvetica, Arial, sans-serif;
      padding: 20px
    }

    .header-bar {
      background: #555555;
      color: #ffffff;
      padding: 12px 18px;
      border-radius: 3px;
      font-weight: 700
    }

    .sub-panel {
      background: #efefef;
      border-radius: 3px;
      padding: 12px;
      margin-top: 10px
    }

    .app-info {
      font-size: 14px
    }

    .stats {
      margin-top: 8px
    }

    .stat-item {
      display: inline-block;
      margin-right: 18px;
    }

    .stat-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 6px;
      vertical-align: middle
    }

    .stat-pending {
      color: #f1c40f
    }

    .stat-approved {
      color: #2ecc71
    }

    .stat-rejected {
      color: #e74c3c
    }

    .tab-section {
      background: #555555;
      padding: 12px;
      border-radius: 3px;
      margin-top: 16px
    }

    .nav-tabs>li>a {
      color: #fff;
      background: transparent;
      border: 1px solid #ccc !important;
      border-radius: 3px;
      font-weight: 400;
    }

    .nav-tabs>li.active>a,
    .nav-tabs>li.active>a:focus,
    .nav-tabs>li.active>a:hover {
      background: #fff;
      color: #000 !important;
      border: 1px solid #ccc !important;
      border-radius: 3px;
      font-weight: 400;
    }

    .card {
      background: #fff;
      border-radius: 3px;
      margin-top: 12px;
      padding: 0;
      border: 1px solid #ccc
    }

    .card .card-header {
      background: #efefef;
      color: #333;
      padding: 10px 14px;
      border-radius: 3px 3px 0 0;
      font-weight: 700
    }

    .doc-entry {
      padding: 14px
    }

    .doc-entry a {
      font-weight: 700;
      text-decoration: underline
    }

    .doc-meta {
      color: #666;
      margin-top: 6px
    }

    .label-approved {
      color: #27ae60;
      font-weight: 700
    }

    .move-btn {
      margin-top: 18px;
      background: #efefef !important;
      color: #333 !important;
      border: 1px solid #333 !important;
      font-weight: 600
    }

    .file-icon {
      float: right;
      font-size: 18px;
      color: #111;
      margin-top: 6px
    }

    .doc-entry .checkbox {
      display: inline-block;
      margin-right: 10px
    }

    .preview-wrap {
      max-width: 1100px;
      margin: 0 auto
    }

    .small-muted {
      color: #999;
      font-size: 12px
    }

    .received {
      font-weight: 600
    }

    .panel-space {
      height: 16px
    }

    .sub-panel.row {
      margin-left: 0 !important;
      margin-right: 0 !important;
    }

    /* New styles for extracted fields */
    .field-container {
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-bottom: 10px;
      background: white;
      position: relative;
    }

    .field-label {
      padding: 8px 12px 0 12px;
      font-size: 13px;
      color: #333;
      font-weight: bold;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-content: center;
    }

    .field-value-container {
      padding: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .field-value {
      font-weight: 500;
      color: #333;
    }

    .confidence-container {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .confidence-percentage {
      font-weight: bold;
      font-size: 13px;
      color: #bbb9b9;
    }

    .extracted-fields-container {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 15px;
    }

    .reject-options,
    .approve-options {
      margin-top: 15px;
      padding: 15px;
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 4px;
      display: none;
    }

    .reject-options h5,
    .approve-options h5 {
      margin-top: 0;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .reject-options h5 {
      color: #d9534f;
    }

    .approve-options h5 {
      color: #5cb85c;
    }

    .reject-options label,
    .approve-options label {
      font-weight: normal;
      margin-bottom: 8px;
      display: block;
    }

    .reject-options input[type="radio"] {
      margin-right: 8px;
    }

    .asterisk-required {
      color: red;
      font-size: 7px;
    }

    /* Enhanced button states */
    .btn-disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* Badge styles */
    .confidence-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: bold;
      color: white;
      background-color: #28a745;
    }

    .status-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      margin-left: 8px;
    }

    .badge-match {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .badge-mismatch {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f1b0b7;
    }

    .badge-information {
      background-color: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }
  </style>
</head>

<body>
  <div class="preview-wrap">
    <!-- Header -->
    <div class="header-bar">Document Verification and Review</div>

    <div class="sub-panel row">
      <div class="col-sm-12 app-info" style="margin-bottom:8px;">
        <strong>Application Id: </strong>5588731 &nbsp;&nbsp;&nbsp; <strong>Name:</strong> Kelley
      </div>
      <div class="col-sm-12 stats" style="display:flex; gap:24px; align-items:center;">
        <span class="stat-item"><i class="bi bi-clock-fill stat-pending"></i> Pending: 2</span>
        <span class="stat-item"><i class="bi bi-check-circle-fill stat-approved"></i> Approved: 1</span>
        <span class="stat-item"><i class="bi bi-x-circle-fill stat-rejected"></i> Rejected: 1</span>
      </div>
    </div>

    <!-- Section1 -->
    <div class="sub-panel" id="section1" style="background:#efefef; margin-top:16px; padding:16px; border-radius:3px;">
      <div id="section2" style="background:#ffffff; border-radius:3px; padding:0; border:1px solid #ccc;">
        <div style="background:#555555; color:#fff; padding:10px 14px; border-radius:3px 3px 0 0; font-weight:700;">
          <ul class="nav nav-tabs" role="tablist" style="border:none; margin:0;">
            <li role="presentation" class="active"><a href="#" style="color:#fff; border:none;">Pending (2)</a></li>
            <li role="presentation"><a href="#" style="color:#fff; border:none;">Approved (1)</a></li>
            <li role="presentation"><a href="#" style="color:#fff; border:none;">Rejected (1)</a></li>
          </ul>
        </div>
        <div id="tabContentWrapper" style="padding:20px; background:#ffffff; min-height:600px;">

          <!-- Pending Tab Content -->
          <div id="pendingContent" style="display:block;">
            <!-- Document Review Replica Layout (Side-by-side) -->
            <div class="row" style="margin:0; padding:0; border:1px solid #ccc; border-radius:3px;">
              <!-- LEFT: Document Preview -->
              <div class="col-sm-7" style="background:#f9f9f9; padding:15px; min-height:550px; padding-right:15px;">
                <div style="display: flex; justify-content: space-between;">
                  <h5 style="margin-top:0; font-weight:600; font-size: 15px;">Document Preview <i
                      class="bi bi-box-arrow-up-right" style="cursor: pointer; padding: 10px;"></i>
                  </h5>
                  <div
                    style="font-size:12px; background:#dfdfdf; border-radius: 30px; width: 20%; align-content: center; border:1px solid #cecdcd;">
                    <span
                      style="display:flex; justify-content:center; align-items:center; width:100%; font-size:14px;">Pending
                      1 of 2</span>
                  </div>
                </div>
                <div
                  style="text-align:center; border:1px solid #ddd; margin-top:10px; padding:10px; background:white; height:487px;">
                  <div style="font-size: 17px; color:#bbb9b9; margin-top:200px;">
                    <p>[DOCUMENT IMAGE]</p>
                  </div>
                </div>
              </div>

              <!-- RIGHT: Extracted Fields -->
              <div class="col-sm-5" style="background:#f9f9f9; padding:15px; min-height:550px;">
                <h5 style="margin-top:0; font-weight:600; margin-bottom: 20px; font-size: 15px;">Extracted Fields</h5>



                <!-- Document Type Dropdown -->
                <div class="field-container">
                  <div class="field-label">
                    Document Type
                    <div style="margin-bottom: 15px;">
                      <span class="confidence-badge">99% Confident</span>
                    </div>
                  </div>
                  <div class="field-value-container" style="padding: 0 12px 12px 12px !important;">
                    <select class="form-control" style="background:transparent; padding:0;">
                      <option selected>Drivers License</option>
                      <option>Social Security Card</option>
                      <option>Lien Release</option>
                    </select>
                  </div>
                </div>

                <!-- First Name -->
                <div class="field-container">
                  <div class="field-label">
                    First Name
                    <span class="status-badge badge-match">Match</span>
                  </div>
                  <div class="field-value-container">
                    <div class="field-value">John D. Williams</div>
                    <div class="confidence-container">
                      <span class="confidence-percentage">98%</span>
                    </div>
                  </div>
                </div>

                <!-- SSN -->
                <div class="field-container">
                  <div class="field-label">
                    SSN
                    <span class="status-badge badge-mismatch">Mis-Match</span>
                  </div>
                  <div class="field-value-container">
                    <div class="field-value">983-99-8568</div>
                    <div class="confidence-container">
                      <span class="confidence-percentage">92%</span>
                    </div>
                  </div>
                </div>

                <!-- Date of Birth -->
                <div class="field-container">
                  <div class="field-label">
                    Date of Birth
                    <span class="status-badge badge-information">Information</span>
                  </div>
                  <div class="field-value-container">
                    <div class="field-value">12-14-1987</div>
                    <div class="confidence-container">
                      <span class="confidence-percentage">96%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Reject Options (hidden by default) -->
            <div class="reject-options" id="rejectOptions">
              <div class="field-label" style="padding: 0 !important;">Rejection Reason</div>
              <div class="field-value-container" style="padding: 8px 0 0 0;">
                <select class="form-control" id="rejectionReasonSelect" style="padding:0;">
                  <option value="">Select a rejection reason...</option>
                  <optgroup label="Document Quality Issues">
                    <option value="poor_image_quality">Poor image quality/illegible text</option>
                    <option value="blurry_document">Document is blurry or out of focus</option>
                    <option value="partial_document">Partial document/information cut off</option>
                    <option value="damaged_document">Document appears damaged or torn</option>
                    <option value="low_resolution">Image resolution too low to verify details</option>
                  </optgroup>
                  <optgroup label="Document Validity Issues">
                    <option value="expired_document">Document has expired</option>
                    <option value="altered_document">Document appears altered or tampered with</option>
                    <option value="fraudulent_document">Suspected fraudulent document</option>
                    <option value="invalid_format">Document format not acceptable</option>
                    <option value="security_features_missing">Required security features missing</option>
                  </optgroup>
                  <optgroup label="Other">
                    <option value="other">Other</option>
                  </optgroup>
                </select>
              </div>
              <div class="form-group" style="margin-top:20px;">
                <label>Funder Note <sup><i class="bi bi-asterisk asterisk-required"></i></sup></label>
                <textarea class="form-control" id="funderNoteReject" style="height:120px;"></textarea>
              </div>
              <div class="form-group" style="margin-top:20px;">
                <label>Customer Note <sup><i class="bi bi-asterisk asterisk-required"></i></sup></label>
                <textarea class="form-control" id="customerNoteReject" style="height:120px;"></textarea>
              </div>
            </div>

            <!-- Approve Options (hidden by default) -->
            <div class="approve-options" id="approveOptions">
              <div class="form-group">
                <label>Funder Note</label>
                <textarea class="form-control" id="funderNoteApprove" style="height:120px;"></textarea>
              </div>
            </div>

            <div class="text-right" style="margin-top: 10px; color: #4c555dbf;">Next document will load automatically
              after your decision.
            </div>

            <!-- Buttons -->
            <div style="text-align:center; margin-top:20px;">
              <button class="btn btn-default" id="cancelBtn" style="display:none;">Cancel</button>
              <button class="btn" style="background-color: #555555; color: white; font-weight: bold;"
                id="rejectBtn">Reject</button>
              <button class="btn" style="background-color: #555555; color: white; font-weight: bold;"
                id="approveBtn">Approve</button>
            </div>
          </div>

          <!-- Approved Tab Content -->
          <div id="approvedContent" style="display:none;">

            <!-- Card container -->
            <div class="card" style="border:1px solid #ccc; border-radius:3px; margin-top:10px;">

              <!-- Header -->
              <div class="card-header"
                style="background:#555555; color:white; padding:10px 14px; font-weight:700; font-size:14px;">
                ORL
              </div>

              <!-- Body -->
              <div class="doc-entry" style="padding:14px; font-size:14px; position:relative;">

                <!-- Left checkbox -->
                <div style="display:inline-block; vertical-align:top; margin-right:10px;">
                  <input type="checkbox" checked style="width:18px; height:18px; cursor:pointer;">
                </div>

                <!-- Main Document Info -->
                <div style="display:inline-block; width:90%;">

                  <a href="#" style="font-weight:700; color: black; text-decoration:underline;">
                    Kelley - Adverse Action Letter
                  </a>

                  <span>, Page(s) 1 (</span>
                  <span style="font-weight:700;">Received:</span>
                  <span> 11-19-2025 11:00:45 PM )</span>

                  <br>

                  <span style="font-weight:700;">Classification Method:</span> Manual,
                  <span style="font-weight:700;">Document Type:</span> Adverse Action Letter,
                  <span style="font-weight:700;">Classification Status:</span>
                  <span style="color:#27ae60;">Manual Classification</span>,
                  Approved
                </div>

                <!-- File icon -->
                <i class="bi bi-file-earmark-fill"
                  style="font-size:15px; color:#111; position:absolute; right:16px; top:18px;"></i>

              </div>
            </div>

            <!-- Move Button -->
            <div style="margin-top:20px;">
              <button class="btn btn-default"
                style="background:#efefef; border:1px solid #333; color:white; background-color: #555555; padding: 10px 20px;">
                <i class="bi bi-copy"></i> Move Documents to New App
              </button>
            </div>

          </div>

          <!-- Rejected Tab Content -->
          <div id="rejectedContent" style="display:none;">

            <!-- REJECTED DOCUMENT CARD -->
            <div class="card"
              style="background:#fff; border-radius:3px; margin-top:12px; padding:0; border:1px solid #ccc;">

              <!-- Header -->
              <div class="card-header"
                style="background:#555555; color:#fff; padding:10px 14px; border-radius:3px 3px 0 0; font-weight:700; font-size:14px;">
                Other
              </div>

              <!-- Body -->
              <div class="doc-entry" style="padding:14px; font-size:14px; position:relative;">

                <!-- Link & Metadata -->
                <div style="display:inline-block; width:92%; line-height:20px;">

                  <a href="#" style="font-weight:700; text-decoration:underline; color: black;">
                    Kelley – 5588731 _a43de291-4b61-4e8…606-a525-b742f398c261.pdf
                  </a>,
                  Page(s) 1 (
                  <span style="font-weight:700;">Received:</span>
                  11-19-2025 11:00:45 PM )

                  <br>

                  <span style="font-weight:700;">Classification Method:</span> N/A,
                  <span style="font-weight:700;">Document Type:</span> N/A,
                  <span style="font-weight:700;">Classification Status:</span>
                  <span style="color:#e74c3c; font-weight:700;">Not Classified</span>, Rejected
                </div>

                <!-- File Icon -->
                <i class="bi bi-file-earmark-fill"
                  style="font-size:15px; color:#111; position:absolute; right:16px; top:18px;"></i>

              </div>
            </div>

            <!-- Request Customer Button -->
            <div style="margin-top:20px;">
              <button class="btn btn-default" style="background:#555555; color:white; border:none; padding:10px 20px;">
                Request Customer to Re-upload Rejected Documents
              </button>
            </div>

          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script>
      // simulate tab switching purely for UI (no ajax)
      $(function () {
        $('.nav-tabs a').on('click', function (e) {
          e.preventDefault();
          $('.nav-tabs li').removeClass('active');
          $(this).parent().addClass('active');

          // Get the tab text to determine which content to show
          var tabText = $(this).text().trim();

          // Hide all content divs
          $('#pendingContent, #approvedContent, #rejectedContent').hide();

          // Adjust height based on tab selected
          if (tabText.includes('Pending')) {
            $('#tabContentWrapper').css('min-height', '600px');
          } else {
            $('#tabContentWrapper').css('min-height', 'auto');
          }

          // Show appropriate content based on tab
          if (tabText.includes('Pending')) {
            $('#pendingContent').show();
          } else if (tabText.includes('Approved')) {
            $('#approvedContent').show();
          } else if (tabText.includes('Rejected')) {
            $('#rejectedContent').show();
          }

          // Reset any active workflows when switching tabs
          resetAllUI();
        });

        // Handle rejection reason dropdown change
        $('#rejectionReasonSelect').on('change', function () {
          var selectedText = $(this).find('option:selected').text();
          var selectedValue = $(this).val();

          if (selectedValue && selectedText !== 'Select a rejection reason...' && selectedText !== 'Other') {
            // Populate both note fields with the selected reason text
            $('#funderNoteReject').val(selectedText);
            $('#customerNoteReject').val(selectedText);
          } else {
            // Clear both note fields if no valid selection
            $('#funderNoteReject').val('');
            $('#customerNoteReject').val('');
          }
        });

        // Function to reset all UI elements
        function resetAllUI() {
          $('#rejectOptions').slideUp();
          $('#approveOptions').slideUp();
          $('#rejectBtn').text('Reject');
          $('#approveBtn').text('Approve');
          $('#cancelBtn').hide();

          // Clear all form fields
          $('#rejectionReasonSelect').val('');
          $('#funderNoteReject').val('');
          $('#customerNoteReject').val('');
          $('#funderNoteApprove').val('');
        }

        // Handle reject button click
        $('#rejectBtn').on('click', function () {
          var $btn = $(this);
          var $options = $('#rejectOptions');
          var $cancelBtn = $('#cancelBtn');
          var $approveBtn = $('#approveBtn');

          if ($btn.text() === 'Reject') {
            // Reset approve workflow if it was active
            if ($approveBtn.text() === 'Confirm Approve') {
              $('#approveOptions').slideUp();
              $approveBtn.text('Approve');
              $('#funderNoteApprove').val('');
            }

            // Show reject options
            $options.slideDown();
            $btn.text('Confirm Reject');
            $cancelBtn.show();
          } else {
            // Handle confirm reject
            var selectedReason = $('#rejectionReasonSelect').val();
            var funderNote = $('#funderNoteReject').val().trim();
            var customerNote = $('#customerNoteReject').val().trim();

            if (!selectedReason) {
              return;
            }

            if (!funderNote || !customerNote) {
              return;
            }

            // Reset all UI after successful rejection
            resetAllUI();
          }
        });

        // Handle approve button click
        $('#approveBtn').on('click', function () {
          var $btn = $(this);
          var $options = $('#approveOptions');
          var $cancelBtn = $('#cancelBtn');
          var $rejectBtn = $('#rejectBtn');

          if ($btn.text() === 'Approve') {
            // Reset reject workflow if it was active
            if ($rejectBtn.text() === 'Confirm Reject') {
              $('#rejectOptions').slideUp();
              $rejectBtn.text('Reject');
              $('#rejectionReasonSelect').val('');
              $('#funderNoteReject').val('');
              $('#customerNoteReject').val('');
            }

            // Show approve options
            $options.slideDown();
            $btn.text('Confirm Approve');
            $cancelBtn.show();
          } else {
            // Handle confirm approve
            var funderNote = $('#funderNoteApprove').val().trim();

            // Reset all UI after successful approval
            resetAllUI();
          }
        });

        // Handle cancel button click
        $('#cancelBtn').on('click', function () {
          resetAllUI();
        });
      });
    </script>
</body>

</html>